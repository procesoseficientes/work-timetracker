<h2>
  Projects
  <a onclick="toggleLoading()" href="/projects" class="btn btn-dark btn-sm">
    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
    </svg>
  </a>  
</h2>

<form id="filter">
  <input type="hidden" id="page" name="page" value="{{page}}"/>
</form>

{{#each projects}}
  <hr/>
  <h6>{{this.name}}</h6>
  <label>{{this.hours}}h - {{this.description}}</label>
  <div class="progress" style="height: 35px;">
    {{#each this.times}}
    <div 
      class="progress-bar {{this.color}}" 
      role="progressbar" 
      style="width: {{this.percent}}%" 
      aria-valuenow="20" 
      aria-valuemin="0" 
      aria-valuemax="100"
    >
      {{this.user}} ({{this.hours}}h)
    </div>
    {{/each}}
  </div>
  <br/>
{{/each}}

<ul class="pagination">
  {{#if showPrevious}}<li onclick="pagination(-1)" class="page-item bg-dark"><a class="page-link bg-dark text-light">Previous</a></li>{{/if}}
  {{#if showNext}}<li onclick="pagination(1)" class="page-item bg-dark"><a class="page-link bg-dark text-light">Next</a></li>{{/if}}
</ul>

<script>
  function pagination (direction) {
    const newPage = parseInt($('#page').val()) + direction
    $('#page').val(newPage > 0 ? newPage : 0)
    $('#filter').submit()
  }
</script>